
<div class="sidenav">
  <div class="sidenav-text">
    <%= link_to dashboard_page_path do %>
    My Dashboard
    <% end %>
    <%= link_to networks_page_path do %>
    My Networks
    <% end %>
    <%= link_to suggested_roadmap_path do %>
    Create Roadmap
    <% end %>
  </div>
</div>

<class="container" style="text-align:center">

  <div>
    <h1>Chat <span id="chat_id" ><%= params[:id] %></span> </h1>
    <p><b><%= @user.first_name %></b> and <b><%= @friend.first_name %></b></p>
  </div>

  <div class="d-flex p-2 justify-content-center">
    <div class="message-body text-left" style="width:400px; height:400px; overflow:auto">
      <div id="messages" class="message-body"> 
      <% if @chat_messages.empty? %>
        <p> There is currently no messages </p>
      <% else %>
        <% @chat_messages.each do |message| %>
          <div id="message-<%= message.id %>">
            <i class="author">
              <span><b><%= message.user.first_name %></b></span>
              <small><%= message.created_at.strftime("%b %e at %l:%M%p") %></small>
            </i>
          <p><%= message.content %></p>
          </div>
        <% end %>
      <% end %>
      </div>
    </div>
  </div>


  <div class="mt-3" style="text-align:center">
    <%= form_tag(message_path(@connection.id), method: "post") do %>
      <label for="message">Message:</label>
      <%= hidden_field_tag "receiver_id", @friend.id %>
      <%= hidden_field_tag "sender_id", @user.id %>
      <%= hidden_field_tag "chat_id", @connection.id %>
      <%= text_field_tag :messages, nil, autofocus: true %>
      <%= button_tag "Send" %>
    <% end %>
  </div>

  <div class="mt-2" style="text-align:center">
    <%= link_to "Back", "/dashboard/networks" %>
  </div>
</div>

